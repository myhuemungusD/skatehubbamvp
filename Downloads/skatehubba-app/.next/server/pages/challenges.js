(()=>{var e={};e.id=33,e.ids=[33,888,660],e.modules={34:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>m,default:()=>o,getServerSideProps:()=>g,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>x,routeModule:()=>y,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var r=a(7093),i=a(5244),n=a(1323),l=a(909),c=a(4163),d=a(1807),u=e([c,d]);[c,d]=u.then?(await u)():u;let o=(0,n.l)(d,"default"),p=(0,n.l)(d,"getStaticProps"),h=(0,n.l)(d,"getStaticPaths"),g=(0,n.l)(d,"getServerSideProps"),m=(0,n.l)(d,"config"),x=(0,n.l)(d,"reportWebVitals"),b=(0,n.l)(d,"unstable_getStaticProps"),f=(0,n.l)(d,"unstable_getStaticPaths"),v=(0,n.l)(d,"unstable_getStaticParams"),S=(0,n.l)(d,"unstable_getServerProps"),j=(0,n.l)(d,"unstable_getServerSideProps"),y=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/challenges",pathname:"/challenges",bundlePath:"",filename:""},components:{App:c.default,Document:l.default},userland:d});s()}catch(e){s(e)}})},823:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{I8:()=>o,db:()=>p});var r=a(3745),i=a(401),n=a(1492),l=a(3392),c=a(9500),d=e([r,i,n,l,c]);[r,i,n,l,c]=d.then?(await d)():d;let u=(0,r.initializeApp)({apiKey:"AIzaSyD6kLt4GKV4adX-oQ3m_aXIpL6GXBP0xZw",authDomain:"sk8hub-d7806.firebaseapp.com",projectId:"sk8hub-d7806",storageBucket:"sk8hub-d7806.firebasestorage.app",messagingSenderId:"665573979824",appId:"1:665573979824:web:731aaae46daea5efee2d75",measurementId:"G-7XVNF1LHZW"}),o=(0,i.getAuth)(u),p=(0,n.getFirestore)(u);(0,l.getStorage)(u),s()}catch(e){s(e)}})},5904:(e,t,a)=>{"use strict";a.a(e,async(e,t)=>{try{var s=a(823),r=a(401),i=e([s,r]);[s,r]=i.then?(await i)():i,t()}catch(e){t(e)}})},4163:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>c});var r=a(997),i=a(6689),n=a(5904);a(108);var l=e([n]);function c({Component:e,pageProps:t}){let[a,s]=(0,i.useState)(!1);return a?r.jsx(e,{...t}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loadingâ€¦"})}n=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},909:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(997),r=a(6859);function i(){return(0,s.jsxs)(r.Html,{lang:"en",children:[s.jsx(r.Head,{}),(0,s.jsxs)("body",{children:[s.jsx(r.Main,{}),s.jsx(r.NextScript,{})]})]})}},1807:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>o});var r=a(997),i=a(6689),n=a(1492),l=a(823),c=a(1664),d=a.n(c),u=e([n,l]);function o(){let[e,t]=(0,i.useState)(""),a=async()=>{let e=l.I8.currentUser;if(!e)return alert("Not signed in");await (0,n.addDoc)((0,n.collection)(l.db,"challenges"),{challengerUid:e.uid,opponentUid:null,trick:"",status:"pending",createdAt:(0,n.serverTimestamp)(),updatedAt:(0,n.serverTimestamp)(),expiresAt:(0,n.serverTimestamp)(),challengerClipId:null,opponentClipId:null,winnerUid:null}).then(e=>alert(`Challenge created: ${e.id}`)).catch(e=>alert(e.message))},s=async()=>{let t=l.I8.currentUser;if(!t)return alert("Not signed in");if(!e)return alert("Enter a challenge ID");let a=(0,n.doc)(l.db,"challenges",e);await (0,n.updateDoc)(a,{opponentUid:t.uid,updatedAt:(0,n.serverTimestamp)()}).then(()=>alert("Joined challenge")).catch(e=>alert(e.message))};return r.jsx("div",{className:"min-h-screen p-6 bg-gray-100",children:(0,r.jsxs)("div",{className:"max-w-xl mx-auto space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Challenges"}),(0,r.jsxs)("div",{className:"p-4 bg-white rounded shadow",children:[r.jsx("h2",{className:"font-semibold mb-2",children:"Create"}),r.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Create Challenge"})]}),(0,r.jsxs)("div",{className:"p-4 bg-white rounded shadow",children:[r.jsx("h2",{className:"font-semibold mb-2",children:"Join"}),r.jsx("input",{className:"border rounded px-3 py-2 mr-2",placeholder:"Challenge ID",value:e,onChange:e=>t(e.target.value)}),r.jsx("button",{onClick:s,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Join"})]}),r.jsx("div",{className:"p-4 bg-white rounded shadow",children:r.jsx(d(),{className:"text-blue-700 underline",href:"/challenges/mine",children:"My Challenges"})})]})})}[n,l]=u.then?(await u)():u,s()}catch(e){s(e)}})},108:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9500:e=>{"use strict";e.exports=import("firebase/analytics")},3745:e=>{"use strict";e.exports=import("firebase/app")},401:e=>{"use strict";e.exports=import("firebase/auth")},1492:e=>{"use strict";e.exports=import("firebase/firestore")},3392:e=>{"use strict";e.exports=import("firebase/storage")},1017:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[859,777,664],()=>a(34));module.exports=s})();